{% extends "base.html" %}
{% block body %}
{% if products %}
<!-- cart section -->
<div class="px-4 px-lg-0" style="margin-top:120px;">
  <div class="pb-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 p-5 bg-white rounded shadow-sm mb-5">

          <!-- Shopping cart table -->
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col" class="border-0 bg-light">
                    <div class="p-2 px-3 text-uppercase">Product</div>
                  </th>
                  <th scope="col" class="border-0 bg-light">
                    <div class="py-2 text-uppercase">Price</div>
                  </th>
                  <th scope="col" class="border-0 bg-light">
                    <div class="py-2 text-uppercase">Quantity</div>
                  </th>
									<th scope="col" class="border-0 bg-light">
										<div class="py-2 text-uppercase">Checkout</div>
									</th>
                  <th scope="col" class="border-0 bg-light">
                    <div class="py-2 text-uppercase">Remove</div>
                  </th>
                </tr>
              </thead>
              <tbody>
								{% for item in products %}
                <tr>
                  <th scope="row" class="border-0">
                    <div class="p-2">
                      <img src="{{item.thumbnail}}" alt="" width="70" class="img-fluid rounded shadow-sm">
                      <div class="ml-3 d-inline-block align-middle">
                        <h5 class="mb-0"> <a href="#" class="text-dark d-inline-block align-middle">{{item.name}}</a></h5><span class="text-muted font-weight-normal font-italic d-block">Category: {{item.product_category}}</span>
                      </div>
                    </div>
                  </th>
									<form action="/checkout/initialize" method="POST">
                  <td class="border-0 align-middle">at <strong>&#8358 {{item.price}}</strong> each</td>
									<td class="border-0 align-middle form-group"><strong>
									    <input type="text" name="{{item.product_id}}" class="form-control text-center" value="{{item.quantity}}">
                  </strong>
								  </td>
									<td class="border-0 align-middle"><input class="btn btn-light" type="submit" name="checkout" value="Buy now"></td>
									</form>
                  <form action="/cart/{{item.product_id}}/removecartitems" id="{{item.product_id}}"></form>
									  <td class="border-0 align-middle">
											<button type="submit" form="{{item.product_id}}" class="btn btn-secondary text-dark remove"><i class="fa fa-trash"></i></button>
										</td>
                </tr>

								{% endfor %}
              </tbody>
            </table>
          </div>
          <!-- End -->
        </div>
      </div>
<!-- end cart section -->
{% else %}
<div class="container bg-white" style="display:flex;justify-content:center;align-items:center;height:100vh;margin-top:60px;">
  <p>Your cart is currently empty.</p>
</div>
{% endif %}
{% endblock %}
